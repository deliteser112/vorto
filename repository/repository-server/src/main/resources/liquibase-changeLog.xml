<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">

    <changeSet id="migrate_db_0xx_to_013_H2" author="kolotu">
        <preConditions onFail="CONTINUE">
            <dbms type="h2"/>
            <not>
                <columnExists tableName="user" columnName="subject"/>
            </not>
        </preConditions>
        <sqlFile path="/db/changelog/migration/migrate_db_0xx_to_013_H2.sql" dbms="h2"/>
    </changeSet>

    <changeSet id="migrate_db_0xx_to_013_MariaDB" author="kolotu">
        <preConditions onFail="CONTINUE">
            <dbms type="mariadb"/>
            <not>
                <columnExists tableName="user" columnName="subject"/>
            </not>
        </preConditions>
        <sqlFile path="/db/changelog/migration/migrate_db_0xx_to_013_MariaDB.sql" dbms="mariadb"/>
    </changeSet>

    <changeSet id="migrate_db_2018_11_09" author="kolotu">
        <preConditions onFail="CONTINUE">
            <dbms type="mariadb"/>
            <not>
                <columnExists tableName="user" columnName="role"/>
            </not>
        </preConditions>
        <sqlFile path="/db/changelog/migration/migrate_db_2018_11_09.sql" dbms="mariadb"/>
    </changeSet>

    <changeSet id="migrate_db_createdby_MariaDB" author="kolotu">
        <preConditions onFail="CONTINUE">
            <not>
                <columnExists tableName="user" columnName="created_by"/>
            </not>
        </preConditions>
        <sqlFile path="/db/changelog/migration/migrate_db_createdby.sql" dbms="mariadb"/>
    </changeSet>

    <changeSet id="migrate_db_from_013_MariaDB_preparation" author="kolotu">
        <preConditions onFail="CONTINUE">
            <not>
                <tableExists tableName="privileges" />
            </not>
        </preConditions>
        <sqlFile path="/db/changelog/migration/migrate_db_from_013_MariaDB_preparation.sql" dbms="mariadb"/>
    </changeSet>

    <changeSet author="kolotu" id="example-change-1">
        <addColumn tableName="user">
            <column name="address" type="varchar(255)" />
        </addColumn>
    </changeSet>

</databaseChangeLog>
